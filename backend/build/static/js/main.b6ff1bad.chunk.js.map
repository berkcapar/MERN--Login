{"version":3,"sources":["services/login.js","services/signup.js","services/movie.js","components/LoginForm.js","components/Toggleable.js","components/SignupForm.js","components/Notification.js","App.js","index.js"],"names":["login","credentials","a","axios","post","response","data","signup","newUser","token","setToken","newToken","movies","movieObject","config","headers","Authorization","LoginForm","handleSubmit","handleEmailChange","handlePasswordChange","email","password","className","onSubmit","type","name","value","onChange","Togglable","props","useState","visible","setVisible","hideComponent","display","showComponent","toggleVisibility","style","onClick","buttonLabel","children","SignupForm","handleNewNameChange","handleNewEmailChange","handleNewPasswordChange","newName","newEmail","newPassword","Notification","message","App","setEmail","setPassword","user","setUser","users","setUsers","setNewName","setNewEmail","setNewPassword","errorMessage","setErrorMessage","useEffect","loggedUserJSON","window","localStorage","getItem","JSON","parse","movieService","handleLogin","event","preventDefault","loginService","setItem","stringify","setTimeout","removeItem","target","length","signupService","then","returnedUser","concat","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.b6ff1bad.chunk.js","sourcesContent":["import axios from 'axios'\nconst baseUrl = '/api/login'\n\nconst login = async credentials => {\n    const response = await axios.post(baseUrl, credentials)\n    return response.data   \n}\n\nexport default { login }\n","import axios from 'axios'\nconst baseUrl = '/api/users'\n\n\nconst signup = async newUser => {\n    const response  = await axios.post(baseUrl, newUser)\n    return response.data\n}\n\nexport default { signup }\n\n\n\n","import axios from 'axios'\nconst baseUrl = ''\n\nlet token = null\n\nconst setToken = newToken => {\n    token = `bearer ${newToken}`\n}\n\nconst movies = async movieObject => {\n    const config = {\n        headers: {Authorization: token}\n    }\nconst response = await axios.post(baseUrl, movieObject, config)\nreturn response.data\n}\n\nexport default {setToken,movies}","import React from 'react'\n\n\nconst LoginForm = ({\n    handleSubmit,\n    handleEmailChange,\n    handlePasswordChange,\n    email,\n    password\n}) => {\n    return ( \n        <div className='loginform'>\n     <h2>Let me in!</h2>\n    <form onSubmit = {handleSubmit}>    \n      <div>\n      Email:\n      <input \n      type=\"text\"\n      name=\"name\"\n      value={email}\n      onChange={handleEmailChange}\n      /> \n       </div>\n       <div> \n       Password:\n      <input \n      type=\"text\"\n      name=\"name\"\n      value={password}\n      onChange={handlePasswordChange}\n      />  \n      </div>\n      <button type=\"submit\">Giri≈ü Yap</button>\n    </form>\n  </div>\n  )\n}\n\nexport default LoginForm","import React, { useState } from 'react'\n\nconst Togglable = (props) =>{\n    const [visible, setVisible] = useState(false)\n\n\nconst hideComponent = {display: visible ? 'none': ''}\nconst showComponent = {display: visible ? '' : 'none'}\n\n\nconst toggleVisibility = () =>{\n    setVisible(!visible)\n}\n\nreturn ( \n    <div className='toggles'>\n        \n        <div style={hideComponent}>\n            <button onClick={toggleVisibility}>{props.buttonLabel}</button>\n        </div>\n        <div style= {showComponent}>\n            {props.children}\n            <button onClick = {toggleVisibility}>cancel</button>\n        </div>\n        </div>\n    \n)\n}\nexport default Togglable","import React from 'react'\n\n\nconst SignupForm = ({\n    handleSubmit,\n    handleNewNameChange,\n    handleNewEmailChange,\n    handleNewPasswordChange,\n    newName,\n    newEmail,\n    newPassword\n}) => { \n    return ( \n        <div className='signupform'> \n           <h2>Join Now! </h2> \n    <form onSubmit={handleSubmit}>\n      <div>\n        Name:\n      <input\n      type = \"text\"    \n      value = {newName}\n      name = \"New Name\"\n      onChange = {handleNewNameChange}\n  />\n      </div>    \n     <div>\n       Email:\n       <input\n       type = \"text\"\n       value = {newEmail}\n       name = \"New Email\" \n       onChange = {handleNewEmailChange}\n       />\n        </div>\n        <div>    \n       Password: \n       <input\n       type = \"password\"\n       value = {newPassword}\n       name = \"New Password\"\n       onChange = {handleNewPasswordChange}\n       />\n     </div>\n     <button type=\"submit\">Join!</button>\n    </form>\n    </div>\n  )\n}\n\nexport default SignupForm\n  \n  \n\n","import React from 'react'\n\nconst Notification = ({message})=>{\nif(message === null){\nreturn null\n}\nreturn(\n    <div className='error'>\n        {message}\n    </div>\n)\n}\n\nexport default Notification","import React, { useState, useEffect } from 'react';\nimport loginService from './services/login' \nimport signupService from './services/signup'\nimport movieService from './services/movie'\nimport LoginForm from './components/LoginForm'\nimport Togglable from './components/Toggleable';\nimport SignupForm from './components/SignupForm';\nimport Notification from './components/Notification'\n\nconst App = () => {\n\nconst [movies, setMovies] = useState([])\nconst [email, setEmail] = useState('')\nconst [password, setPassword] = useState('')\nconst [user, setUser] = useState(null)\nconst [users, setUsers] = useState([])\nconst [newName, setNewName] = useState('')\nconst [newEmail, setNewEmail] = useState('')\nconst [newPassword, setNewPassword] = useState('')\nconst [errorMessage, setErrorMessage] = useState(null)\n\n\nconst addUser = (event) =>{\n  event.preventDefault()\n  const newUser = {\n    name: newName,\n    email: newEmail,\n    password:newPassword\n  }\n  if(newPassword.length<3){ \n    setErrorMessage('Password should be longer than 3 charecters')\n    setTimeout(()=>{\n      setErrorMessage(null)\n    },5000)\n \n}\nelse { \n  signupService\n  .signup(newUser)\n  .then(returnedUser=>{\n    setUsers(users.concat(returnedUser))\n    setErrorMessage('Succesfully joined!')\n    \n  })\n}\n}\n\nuseEffect(()=>{\n  const loggedUserJSON = window.localStorage.getItem('loggedUser')\n  if(loggedUserJSON){\n    const user = JSON.parse(loggedUserJSON)\n    setUser(user)\n    movieService.setToken(user.token)\n  }\n},[])\n\nconst handleLogin = async (event) => {\nevent.preventDefault()\ntry {\n  const user = await loginService.login({\n    email, password\n  })\n  window.localStorage.setItem(\n    'loggedUser', JSON.stringify(user)\n  )\nmovieService.setToken(user.token)\nsetUser(user)\nsetEmail('')\nsetPassword('')\n} catch(execption){\n  setErrorMessage('Wrong credentials')\n  setTimeout(()=>{\n    setErrorMessage(null)\n  },5000)\n}\n}\n\nconst logoutUser = () =>\n  localStorage.removeItem('loggedUser')\n\nconst handleLogout = () => {\n  setUser(null)\n  logoutUser()\n}\n\nconst addMovie = (movieObject) => { \n  \nmovieService\n.create(movieObject)\n.then(returnedMovie => {\nsetMovies(movies.concat(returnedMovie))\n})\n\n}\n\n\n\nif (!user){\nreturn ( \n  <div> \n  <h2 className='welcometext'>Welcome to Movie App!</h2>\n  <Notification message = {errorMessage} />\n \n  <Togglable buttonLabel = 'login'> \n  <LoginForm\n  email = {email}\n  password = {password}\n  handleEmailChange = {({target}) => setEmail(target.value)}\n  handlePasswordChange = {({target})=>setPassword(target.value)}\n  handleSubmit = {handleLogin}\n  />\n  </Togglable>\n <div>\n\n<Togglable buttonLabel = 'Join'>\n<SignupForm\n  name = {newName}\n  email = {newEmail}\n  password = {newPassword}\n  handleNewNameChange = {({target})=>setNewName(target.value)}\n  handleNewEmailChange = {({target})=>setNewEmail(target.value)}\n  handleNewPasswordChange = {({target})=>setNewPassword(target.value)}\n  handleSubmit= {addUser}\n  />\n\n</Togglable>\n</div>\n</div>\n\n\n  )\n}\nreturn ( \n  <div>\n    <div>\n      <p>{user.name} logged in</p>\n      \n      <button onClick={handleLogout}>Log Out!</button>    \n    </div>\n  \n  </div>\n)\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}