(this.webpackJsonploginsignup=this.webpackJsonploginsignup||[]).push([[0],{16:function(e,t,n){e.exports=n(40)},21:function(e,t,n){},40:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(15),u=n.n(l),c=(n(21),n(3)),i=n.n(c),o=n(4),s=n(2),m=n(5),d=n.n(m),p={login:function(){var e=Object(o.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.post("/api/login",t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},v={signup:function(){var e=Object(o.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.post("/api/users",t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},b=function(e){var t=e.handleSubmit,n=e.handleEmailChange,a=e.handlePasswordChange,l=e.email,u=e.password;return r.a.createElement("div",null,r.a.createElement("h2",null,"Giri\u015f Yap"),r.a.createElement("form",{onSubmit:t},r.a.createElement("div",null,"email:",r.a.createElement("input",{type:"text",name:"name",value:l,onChange:n})),r.a.createElement("div",null,"password:",r.a.createElement("input",{type:"text",name:"name",value:u,onChange:a})),r.a.createElement("button",{type:"submit"},"Giri\u015f Yap")))},g=function(e){var t=Object(a.useState)(!1),n=Object(s.a)(t,2),l=n[0],u=n[1],c={display:l?"none":""},i={display:l?"":"none"},o=function(){u(!l)};return r.a.createElement("div",null,r.a.createElement("div",{style:c},r.a.createElement("button",{onClick:o},e.buttonLabel)),r.a.createElement("div",{style:i},e.children,r.a.createElement("button",{onClick:o},"cancel")))},E=function(e){var t=e.handleSubmit,n=e.handleNewNameChange,a=e.handleNewEmailChange,l=e.handleNewPasswordChange,u=e.newName,c=e.newEmail,i=e.newPassword;return r.a.createElement("div",null,r.a.createElement("h2",null,"Join Now! "),r.a.createElement("form",{onSubmit:t},r.a.createElement("div",null,"Name:",r.a.createElement("input",{type:"text",value:u,name:"New Name",onChange:n})),r.a.createElement("div",null,"Email:",r.a.createElement("input",{type:"text",value:c,name:"New Email",onChange:a})),r.a.createElement("div",null,"Password:",r.a.createElement("input",{type:"password",value:i,name:"New Password",onChange:l})),r.a.createElement("button",{type:"submit"},"Join!")))},h=function(){var e=Object(a.useState)(""),t=Object(s.a)(e,2),n=t[0],l=t[1],u=Object(a.useState)(""),c=Object(s.a)(u,2),m=c[0],d=c[1],h=Object(a.useState)(null),f=Object(s.a)(h,2),w=f[0],O=f[1],j=Object(a.useState)([]),S=Object(s.a)(j,2),C=S[0],N=S[1],y=Object(a.useState)(""),x=Object(s.a)(y,2),k=x[0],J=x[1],P=Object(a.useState)(""),I=Object(s.a)(P,2),L=I[0],U=I[1],D=Object(a.useState)(""),G=Object(s.a)(D,2),Y=G[0],B=G[1],M=Object(a.useState)(null),T=Object(s.a)(M,2),W=(T[0],T[1]);Object(a.useEffect)((function(){var e=window.localStorage.getItem("loggedUser");if(e){var t=JSON.parse(e);O(t)}}),[]);var q=function(){var e=Object(o.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,p.login({email:n,password:m});case 4:a=e.sent,window.localStorage.setItem("loggedUser",JSON.stringify(a)),O(a),l(""),d(""),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),W("Wrong credentials"),setTimeout((function(){W(null)}),5e3);case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}();return w?r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("p",null,w.name," logged in"),r.a.createElement("button",{onClick:function(){O(null),localStorage.removeItem("loggedUser")}},"Log Out!"))):r.a.createElement("div",null,r.a.createElement(g,{buttonLabel:"login"},r.a.createElement(b,{email:n,password:m,handleEmailChange:function(e){var t=e.target;return l(t.value)},handlePasswordChange:function(e){var t=e.target;return d(t.value)},handleSubmit:q})),r.a.createElement("div",null,r.a.createElement(g,{buttonLabel:"Join"},r.a.createElement(E,{name:k,email:L,password:Y,handleNewNameChange:function(e){var t=e.target;return J(t.value)},handleNewEmailChange:function(e){var t=e.target;return U(t.value)},handleNewPasswordChange:function(e){var t=e.target;return B(t.value)},handleSubmit:function(e){e.preventDefault();var t={name:k,email:L,password:Y};v.signup(t).then((function(e){N(C.concat(e))}))}}))))};u.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(h,null)),document.getElementById("root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.c682dddf.chunk.js.map